# =====================================
# Green Goods Environment Configuration
# =====================================
# 
# This is the ONLY .env file for the entire monorepo.
# All packages (client, admin, contracts, indexer) use this file.
#
# Setup: cp .env.example .env
# Then edit .env with your actual values.
#

# === üîê Authentication ===
# Passkey (WebAuthn) authentication via Pimlico smart accounts
# Wallet connection via Reown AppKit for operators/admins
VITE_WALLETCONNECT_PROJECT_ID="your-walletconnect-project-id"  # Required for AppKit - Get from https://cloud.reown.com/
VITE_PIMLICO_API_KEY="your-pimlico-api-key"              # Required for passkey smart accounts - Get from https://pimlico.io

# Legacy Privy (deprecated - only used for migration)
VITE_PRIVY_APP_ID="your-privy-app-id"                    # DEPRECATED: Public app ID from https://console.privy.io
PRIVY_APP_SECRET_ID="your-privy-app-secret"              # DEPRECATED: Server secret (KEEP SECURE!)
PRIVY_TEST_EMAIL="test-XXXX@privy.io"                    # DEPRECATED: Test email from Privy dashboard
PRIVY_TEST_OTP="XXXXXX"                                  # DEPRECATED: Test OTP from Privy dashboard

# === ‚õìÔ∏è Blockchain Network ===
VITE_CHAIN_ID="84532"                                    # Default chain: 42161=Arbitrum, 42220=Celo, 84532=Base Sepolia

# Network RPC URLs
ARBITRUM_RPC_URL="https://arb1.arbitrum.io/rpc"
BASE_SEPOLIA_RPC_URL="https://sepolia.base.org"
CELO_RPC_URL="https://forno.celo.org"
BASE_RPC_URL="https://mainnet.base.org"
SEPOLIA_RPC_URL="https://ethereum-sepolia.publicnode.com"
OPTIMISM_RPC_URL="https://mainnet.optimism.io"

# === üîë Contract Deployment & Verification ===
# Required for deploying contracts (use Foundry keystore: cast wallet import green-goods-deployer)
FOUNDRY_KEYSTORE_ACCOUNT="green-goods-deployer"          # Your Foundry keystore account name
ETHERSCAN_API_KEY="your-etherscan-v2-api-key"            # For contract verification

# Optional - Enhanced deployment error recovery
SCHEMA_DEPLOYMENT_MAX_RETRIES="3"
SCHEMA_DEPLOYMENT_SKIP_ON_FAILURE="false"

# === üìÅ File Storage (Storacha/IPFS) ===
# Get credentials from https://console.storacha.network
# Generate keys: npm i -g @web3-storage/w3cli && w3 login && w3 space create green-goods
#   Key: w3 key create --json ‚Üí save "key" field
#   Proof: w3 delegation create did:key:YOUR_KEY -c space/blob/add -c space/index/add -c filecoin/offer -c upload/add --base64
VITE_STORACHA_KEY="your-storacha-private-key"            # Storacha private key (browser packages)
VITE_STORACHA_PROOF="your-storacha-delegation-proof"     # Storacha delegation proof (browser packages)
VITE_STORACHA_GATEWAY="https://w3s.link"                 # Optional: Custom IPFS gateway URL
STORACHA_KEY="your-storacha-private-key"                 # Storacha private key (Node.js scripts + GitHub Actions)
STORACHA_PROOF="your-storacha-delegation-proof"          # Storacha delegation proof (Node.js scripts + GitHub Actions)

# === üîç Indexing (Envio) ===
ENVIO_API_TOKEN="your-envio-token"                       # Envio API token from https://envio.dev/app/api-tokens
VITE_ENVIO_INDEXER_URL="http://localhost:8080/v1/graphql"  # GraphQL endpoint (localhost for dev)

# === üìä Analytics (Optional) ===
POSTHOG_AGENT_KEY="phc_your-posthog-project-api-key"     # PostHog API key for agent analytics (from https://posthog.com)
VITE_POSTHOG_KEY="your-posthog-client-key"              # üì± Client: PWA Analytics tracking (separate project for gardeners/operators)
VITE_POSTHOG_ADMIN_KEY="your-posthog-admin-key"         # üîß Admin: Dashboard Analytics tracking (separate project for admins)
VITE_POSTHOG_HOST="https://app.posthog.com"


# === üõ†Ô∏è Development Tools (Optional) ===
VITE_APP_URL="https://greengoods.app"                    # Production app URL (use http://localhost:3001 for dev)
VITE_DESKTOP_DEV="true"                                  # Bypass PWA install prompts during development
VITE_ENABLE_SW_DEV="true"                                # Enable service worker dev mode
VITE_DEBUG_MODE="false"                                  # Allow advancing Garden submission without media and enable verbose Garden debug logs (manual testing only)

# === üåê IPFS Deployment (GitHub Actions) ===
# These are set in GitHub Secrets, not in .env - listed here for reference
# GitHub Secrets required: STORACHA_KEY, STORACHA_PROOF, PINATA_JWT
# See .github/workflows/deploy-ipfs.yml for the deployment workflow
VITE_USE_HASH_ROUTER="false"                             # Set to "true" for IPFS builds (uses /#/path URLs instead of /path)
PINATA_JWT="your-pinata-jwt-token"                       # Pinata JWT for redundant pinning (get from https://app.pinata.cloud)

# === üóÑÔ∏è Database (Optional - if using API backend) ===
POSTGRES_URL="your-postgres-url"                         # PostgreSQL connection string
REDIS_URL="your-redis-url"                               # Redis connection string

# === ü§ñ Agent (Multi-Platform Bot) ===
TELEGRAM_BOT_TOKEN="your-telegram-bot-token"             # Get from @BotFather
ENCRYPTION_SECRET="your-32-char-encryption-secret"       # REQUIRED: For encrypting private keys (min 32 chars)
RPC_URL="https://sepolia.base.org"                       # Optional: Override default RPC for verification
DB_PATH="data/agent.db"                                  # Optional: SQLite database path
BOT_MODE="webhook"                                       # Bot mode: "polling" or "webhook" (defaults to webhook)
PORT="3000"                                              # HTTP server port (for webhook mode)
WEBHOOK_URL="https://your-domain.com"                    # Public URL for webhooks (required for webhook mode)
TELEGRAM_WEBHOOK_SECRET="your-webhook-secret"            # Optional: Secret for Telegram webhook verification
POSTHOG_HOST="https://us.i.posthog.com"                  # Optional: PostHog host (default: https://us.i.posthog.com)
ANALYTICS_ENABLED="true"                                 # Optional: Enable/disable analytics (default: true in production)
