name: Bug Report
description: Report a bug to help us improve
title: "[BUG]: "
labels: ["bug", "triage"]
assignees: []
body:
  - type: markdown
    attributes:
      value: |
        Thanks for taking the time to report this bug! Please fill out the form below.

  - type: dropdown
    id: priority
    attributes:
      label: Priority
      description: How urgent is this bug?
      options:
        - Critical - Production down, security issue, blocks release
        - High - Major functionality broken, affects many users
        - Medium - Important but workaround exists
        - Low - Minor issue, cosmetic
    validations:
      required: true

  - type: dropdown
    id: package
    attributes:
      label: Affected Package/Module
      description: Which package(s) are affected?
      multiple: true
      options:
        - frontend
        - backend
        - shared/common
        - contracts/blockchain
        - api/indexer
        - docs
        - other
    validations:
      required: true

  - type: textarea
    id: description
    attributes:
      label: Bug Description
      description: A clear description of what the bug is
      placeholder: When I click the submit button, the form doesn't submit...
    validations:
      required: true

  - type: textarea
    id: reproduction
    attributes:
      label: Steps to Reproduce
      description: Detailed steps to reproduce the behavior
      placeholder: |
        1. Go to '...'
        2. Click on '...'
        3. Scroll down to '...'
        4. See error
    validations:
      required: true

  - type: textarea
    id: expected
    attributes:
      label: Expected Behavior
      description: What should happen instead?
    validations:
      required: true

  - type: textarea
    id: actual
    attributes:
      label: Actual Behavior
      description: What actually happens?
    validations:
      required: true

  - type: textarea
    id: error-details
    attributes:
      label: Error Details
      description: Include error messages, stack traces, or console output
      render: shell
      placeholder: |
        Error: Something went wrong
          at function (file.ts:42)

  - type: dropdown
    id: environment
    attributes:
      label: Environment
      options:
        - Production
        - Staging
        - Local Development
    validations:
      required: true

  - type: input
    id: browser
    attributes:
      label: Browser/OS
      placeholder: "Chrome 120, macOS 14.2"

  - type: input
    id: version
    attributes:
      label: Version/Commit
      placeholder: "v1.2.3 or commit abc123"

  - type: textarea
    id: ai-context
    attributes:
      label: AI Investigation Notes
      description: |
        For AI assistants: Add investigation findings, file paths, root cause analysis.
        This section helps agents understand context for automated fixes.
      placeholder: |
        ## Files Analyzed
        | File | Finding |
        |------|---------|
        | `src/...` | ... |

        ## Root Cause Hypothesis
        ...

        ## Suggested Fix
        ...

  - type: textarea
    id: effort-estimate
    attributes:
      label: Effort Estimate
      description: AI-suggested and/or final estimate
      placeholder: |
        **AI Suggested:** X hours
        **Final Estimate:**

  - type: markdown
    attributes:
      value: |
        ---
        ## Best Practices Reference
        - [Debugging Guide](https://developer.chrome.com/docs/devtools/)
        - [Error Handling Patterns](https://www.patterns.dev/posts/error-handling/)
        - [Conventional Commits](https://www.conventionalcommits.org/)
        - [GitHub Flow](https://docs.github.com/en/get-started/using-github/github-flow)
