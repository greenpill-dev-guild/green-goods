{
  "$schema": "https://claude.ai/schemas/hooks.json",
  "version": "1.0",
  "description": "Green Goods Claude Code hooks for consistency enforcement",

  "hooks": {
    "PreToolUse": [
      {
        "matcher": {
          "tool_name": "Write|Edit",
          "file_pattern": "packages/client/src/hooks/**|packages/admin/src/hooks/**"
        },
        "command": "echo 'üö´ BLOCKED: All hooks must be created in packages/shared/src/hooks/ - see AGENTS.md'",
        "blocking": true,
        "description": "Enforce hook centralization in shared package"
      },
      {
        "matcher": {
          "tool_name": "Write",
          "file_pattern": "packages/**/.env|packages/**/.env.*"
        },
        "command": "echo 'üö´ BLOCKED: Package-level .env files are not allowed. Use root .env only.'",
        "blocking": true,
        "description": "Prevent package-level environment files"
      },
      {
        "matcher": {
          "tool_name": "Edit",
          "file_pattern": "packages/contracts/config/schemas.json"
        },
        "command": "echo '‚ö†Ô∏è WARNING: schemas.json is read-only. Use --update-schemas via deploy.ts or create schemas.test.json'",
        "blocking": false,
        "description": "Warn about schema immutability"
      }
    ],

    "PostToolUse": [
      {
        "matcher": {
          "tool_name": "Write|Edit",
          "file_pattern": "**/*.tsx"
        },
        "command": ".claude/scripts/check-ui-strings.sh \"$FILE_PATH\"",
        "blocking": false,
        "description": "Remind about i18n for UI components"
      }
    ],

    "Notification": [
      {
        "matcher": {
          "event": "session_start"
        },
        "command": "echo 'üåø Welcome, fellow cultivator of the Greenpill Dev Guild. The garden awaits your tending.'",
        "description": "Guild welcome message"
      }
    ]
  },

  "reminders": {
    "ui_strings": {
      "trigger_patterns": ["component", "modal", "button", "form", "text", "label", "message"],
      "message": "Remember: Any new user-facing strings require translations in en.json, es.json, and pt.json"
    },
    "hooks": {
      "trigger_patterns": ["hook", "useQuery", "useMutation", "use[A-Z]"],
      "message": "Remember: All hooks must be created in packages/shared/src/hooks/"
    },
    "contracts": {
      "trigger_patterns": ["deploy", "upgrade", "contract", "forge"],
      "message": "Remember: Use bun --filter contracts deploy:* wrappers. Never raw forge script --broadcast unless debugging."
    },
    "chain": {
      "trigger_patterns": ["chainId", "chain", "network"],
      "message": "Remember: Use DEFAULT_CHAIN_ID from shared config. Never use wallet chainId for contract interactions."
    }
  }
}
