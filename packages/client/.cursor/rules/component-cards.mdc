---
description: Card component patterns — ActionCard, GardenCard, WorkCard, StatusBadge
globs:
  - "**/Card/**/*.tsx"
  - "**/Cards/**/*.tsx"
alwaysApply: false
---

# Card Components

Card patterns for displaying gardens, actions, and works.

## Base Card

```typescript
import { tv } from "tailwind-variants";

export const cardVariants = tv({
  base: "rounded-2xl border flex gap-0.5 justify-between border-border p-1 px-4 bg-bg-white",
  variants: {
    mode: {
      outline: "border-stroke-soft border shadow-sm",
      filled: "bg-bg-soft border-0",
      "no-outline": "border-0 shadow-0",
    },
    size: {
      large: "min-h-18",
      small: "h-auto py-4",
    },
  },
  defaultVariants: {
    mode: "outline",
    size: "large",
  },
});
```

## ActionCard

Displays selectable actions with media:

```typescript
interface ActionCardProps {
  action: Action;
  selected: boolean;
  media?: "large" | "small";
  onClick?: () => void;
}

<ActionCard
  action={action}
  selected={selectedActionId === action.id}
  media="large"
  onClick={() => setSelectedActionId(action.id)}
/>
```

**Selection state:** Border and text color change to primary.

## GardenCard

Displays garden with optional banner:

```typescript
interface GardenCardProps {
  garden: Garden;
  selected: boolean;
  showBanner?: boolean;
  showOperators?: boolean;
  onClick?: () => void;
}

<GardenCard
  garden={garden}
  selected={false}
  showBanner={true}
  onClick={() => navigate(`/home/${garden.id}`)}
/>
```

**Features:**
- Optional banner with gradient fallback
- Gardener count badge
- Location display

## MinimalWorkCard

Compact work display for lists:

```typescript
interface MinimalWorkCardProps {
  work: Work;
  onClick: () => void;
  actionTitle?: string;
  gardenerName?: string;
}

<MinimalWorkCard
  work={work}
  onClick={() => navigate(`/work/${work.id}`)}
  actionTitle={action?.title ?? `Action ${work.actionUID}`}
  gardenerName={formatAddress(work.gardenerAddress)}
/>
```

**Features:**
- Thumbnail from `work.media[0]`
- Status badge
- Time ago display
- Media count badge

## StatusBadge

Status indicator with semantic colors:

```typescript
import { StatusBadge } from "@green-goods/shared";

<StatusBadge status="pending" />   // warning colors
<StatusBadge status="approved" />  // success colors
<StatusBadge status="rejected" />  // error colors
<StatusBadge status="syncing" />   // info colors + spinner
```

**Color mapping:**
- `pending` → warning (orange)
- `approved` → success (green)
- `rejected` → error (red)
- `syncing` → information (blue)

## Skeleton Loading

```typescript
export const GardenCardSkeleton = () => (
  <Card className={cardVariants({ mode: "outline" })}>
    <div className="h-40 w-full bg-bg-soft animate-pulse rounded-t-2xl" />
    <div className="p-5 flex flex-col gap-2">
      <div className="h-6 w-40 bg-bg-soft rounded animate-pulse" />
      <div className="h-4 w-full bg-bg-soft rounded animate-pulse" />
    </div>
  </Card>
);
```

## Anti-Patterns

```typescript
// ❌ Wrong — duplicate card for each status
function WorkCardPending() { ... }
function WorkCardApproved() { ... }

// ✅ Correct — single component with status prop
<WorkCard work={work} />  // Status derived from work.status
```

## Reference Files

- Base: `src/components/Cards/Card.tsx`
- Action: `src/components/Cards/ActionCard.tsx`
- Garden: `src/components/Cards/GardenCard.tsx`
- Work: `src/components/Cards/MinimalWorkCard.tsx`
- StatusBadge: `@green-goods/shared` component
